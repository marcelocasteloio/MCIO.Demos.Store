worker_processes 1;

events {
    worker_connections 1024;
}

http {

    upstream ports-client-web-bff-http {
        server mcio-demos-store-ports-client-web-bff-1:6001;
        server mcio-demos-store-ports-client-web-bff-2:6001;
    }
    upstream ports-client-mobile-bff-http {
        server mcio-demos-store-ports-client-mobile-bff-1:6011;
        server mcio-demos-store-ports-client-mobile-bff-2:6011;
    }
    upstream ports-admin-web-bff-http {
        server mcio-demos-store-ports-admin-web-bff-1:6021;
        server mcio-demos-store-ports-admin-web-bff-2:6021;
    }
    upstream ports-admin-mobile-bff-http {
        server mcio-demos-store-ports-admin-mobile-bff-1:6031;
        server mcio-demos-store-ports-admin-mobile-bff-2:6031;
    }
    upstream gateways-general-http {
        server mcio-demos-store-gateways-general-1:7001;
        server mcio-demos-store-gateways-general-2:7001;
    }
    upstream contexts-identity-http {
        server mcio-demos-store-contexts-identity-1:8001;
        server mcio-demos-store-contexts-identity-2:8001;
    }
    upstream contexts-customer-http {
        server mcio-demos-store-contexts-customer-1:8011;
        server mcio-demos-store-contexts-customer-2:8011;
    }
    upstream contexts-product-http {
        server mcio-demos-store-contexts-product-1:8021;
        server mcio-demos-store-contexts-product-2:8021;
    }
    upstream contexts-catalog-http {
        server mcio-demos-store-contexts-catalog-1:8031;
        server mcio-demos-store-contexts-catalog-2:8031;
    }
    upstream contexts-order-http {
        server mcio-demos-store-contexts-order-1:8041;
        server mcio-demos-store-contexts-order-2:8041;
    }
    upstream contexts-basket-http {
        server mcio-demos-store-contexts-basket-1:8051;
        server mcio-demos-store-contexts-basket-2:8051;
    }
    upstream contexts-delivery-http {
        server mcio-demos-store-contexts-delivery-1:8061;
        server mcio-demos-store-contexts-delivery-2:8061;
    }
    upstream contexts-pricing-http {
        server mcio-demos-store-contexts-pricing-1:8071;
        server mcio-demos-store-contexts-pricing-2:8071;
    }
    upstream contexts-payment-http {
        server mcio-demos-store-contexts-payment-1:8081;
        server mcio-demos-store-contexts-payment-2:8081;
    }
    upstream contexts-notification-http {
        server mcio-demos-store-contexts-notification-1:8091;
        server mcio-demos-store-contexts-notification-2:8091;
    }
    upstream contexts-analytics-http {
        server mcio-demos-store-contexts-analytics-1:8101;
        server mcio-demos-store-contexts-analytics-2:8101;
    }
    upstream contexts-calendar-http {
        server mcio-demos-store-contexts-calendar-1:8111;
        server mcio-demos-store-contexts-calendar-2:8111;
    }

    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name ports-client-web-bff.localhost ports-client-web-bff.mcio-demos-store-nginx;

        location / {
            proxy_pass http://ports-client-web-bff-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name ports-client-mobile-bff.localhost ports-client-mobile-bff.mcio-demos-store-nginx;

        location / {
            proxy_pass http://ports-client-mobile-bff-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name ports-admin-web-bff.localhost ports-admin-web-bff.mcio-demos-store-nginx;

        location / {
            proxy_pass http://ports-admin-web-bff-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name ports-admin-mobile-bff.localhost ports-admin-mobile-bff.mcio-demos-store-nginx;

        location / {
            proxy_pass http://ports-admin-mobile-bff-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name gateways-general.localhost gateways-general.mcio-demos-store-nginx;

        location / {
            proxy_pass http://gateways-general-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name contexts-identity.localhost contexts-identity.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-identity-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name contexts-customer.localhost contexts-customer.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-customer-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name contexts-product.localhost contexts-product.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-product-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name contexts-catalog.localhost contexts-catalog.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-catalog-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name contexts-order.localhost contexts-order.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-order-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name contexts-basket.localhost contexts-basket.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-basket-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name contexts-delivery.localhost contexts-delivery.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-delivery-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name contexts-pricing.localhost contexts-pricing.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-pricing-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name contexts-payment.localhost contexts-payment.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-payment-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name contexts-notification.localhost contexts-notification.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-notification-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name contexts-analytics.localhost contexts-analytics.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-analytics-http/;
        }
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 80;
        server_name contexts-calendar.localhost contexts-calendar.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-calendar-http/;
        }
    }
}
