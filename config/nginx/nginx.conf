worker_processes 1;

events {
    worker_connections 1024;
}

http {
    server_names_hash_bucket_size 128;

    # ports-client-web-bff
    upstream ports-client-web-bff-http {
        server mcio-demos-store-ports-client-web-bff-1:6001;
        server mcio-demos-store-ports-client-web-bff-2:6001;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name ports-client-web-bff-http.localhost ports-client-web-bff-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://ports-client-web-bff-http/;
        }
    }

    # ports-client-mobile-bff
    upstream ports-client-mobile-bff-http {
        server mcio-demos-store-ports-client-mobile-bff-1:6011;
        server mcio-demos-store-ports-client-mobile-bff-2:6011;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name ports-client-mobile-bff-http.localhost ports-client-mobile-bff-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://ports-client-mobile-bff-http/;
        }
    }

    # ports-admin-web-bff
    upstream ports-admin-web-bff-http {
        server mcio-demos-store-ports-admin-web-bff-1:6021;
        server mcio-demos-store-ports-admin-web-bff-2:6021;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name ports-admin-web-bff-http.localhost ports-admin-web-bff-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://ports-admin-web-bff-http/;
        }
    }

    # ports-admin-mobile-bff
    upstream ports-admin-mobile-bff-http {
        server mcio-demos-store-ports-admin-mobile-bff-1:6031;
        server mcio-demos-store-ports-admin-mobile-bff-2:6031;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name ports-admin-mobile-bff-http.localhost ports-admin-mobile-bff-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://ports-admin-mobile-bff-http/;
        }
    }

    # gateways-general
    upstream gateways-general-http {
        server mcio-demos-store-gateways-general-1:7001;
        server mcio-demos-store-gateways-general-2:7001;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name gateways-general-http.localhost gateways-general-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://gateways-general-http/;
        }
    }

    # contexts-identity
    upstream contexts-identity-http {
        server mcio-demos-store-contexts-identity-1:8001;
        server mcio-demos-store-contexts-identity-2:8001;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name contexts-identity-http.localhost contexts-identity-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-identity-http/;
        }
    }

    # contexts-customer
    upstream contexts-customer-http {
        server mcio-demos-store-contexts-customer-1:8011;
        server mcio-demos-store-contexts-customer-2:8011;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name contexts-customer-http.localhost contexts-customer-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-customer-http/;
        }
    }

    # contexts-product
    upstream contexts-product-http {
        server mcio-demos-store-contexts-product-1:8021;
        server mcio-demos-store-contexts-product-2:8021;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name contexts-product-http.localhost contexts-product-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-product-http/;
        }
    }

    # contexts-catalog
    upstream contexts-catalog-http {
        server mcio-demos-store-contexts-catalog-1:8031;
        server mcio-demos-store-contexts-catalog-2:8031;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name contexts-catalog-http.localhost contexts-catalog-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-catalog-http/;
        }
    }

    # contexts-order
    upstream contexts-order-http {
        server mcio-demos-store-contexts-order-1:8041;
        server mcio-demos-store-contexts-order-2:8041;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name contexts-order-http.localhost contexts-order-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-order-http/;
        }
    }

    # contexts-basket
    upstream contexts-basket-http {
        server mcio-demos-store-contexts-basket-1:8051;
        server mcio-demos-store-contexts-basket-2:8051;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name contexts-basket-http.localhost contexts-basket-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-basket-http/;
        }
    }

    # contexts-delivery
    upstream contexts-delivery-http {
        server mcio-demos-store-contexts-delivery-1:8061;
        server mcio-demos-store-contexts-delivery-2:8061;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name contexts-delivery-http.localhost contexts-delivery-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-delivery-http/;
        }
    }

    # contexts-pricing
    upstream contexts-pricing-http {
        server mcio-demos-store-contexts-pricing-1:8071;
        server mcio-demos-store-contexts-pricing-2:8071;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name contexts-pricing-http.localhost contexts-pricing-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-pricing-http/;
        }
    }

    # contexts-payment
    upstream contexts-payment-http {
        server mcio-demos-store-contexts-payment-1:8081;
        server mcio-demos-store-contexts-payment-2:8081;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name contexts-payment-http.localhost contexts-payment-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-payment-http/;
        }
    }

    # contexts-notification
    upstream contexts-notification-http {
        server mcio-demos-store-contexts-notification-1:8091;
        server mcio-demos-store-contexts-notification-2:8091;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name contexts-notification-http.localhost contexts-notification-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-notification-http/;
        }
    }

    # contexts-analytics
    upstream contexts-analytics-http {
        server mcio-demos-store-contexts-analytics-1:8101;
        server mcio-demos-store-contexts-analytics-2:8101;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name contexts-analytics-http.localhost contexts-analytics-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-analytics-http/;
        }
    }

    # contexts-calendar
    upstream contexts-calendar-http {
        server mcio-demos-store-contexts-calendar-1:8111;
        server mcio-demos-store-contexts-calendar-2:8111;
    }
    server {
        access_log off;
        error_log /dev/null emerg;
        
        listen 5000;
        server_name contexts-calendar-http.localhost contexts-calendar-http.mcio-demos-store-nginx;

        location / {
            proxy_pass http://contexts-calendar-http/;
        }
    }
}
